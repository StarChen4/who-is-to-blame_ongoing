---
name: who-is-to-blame
description: Guide for finding out who is to blame in a DoTA2 game. This skill should be used when users want to find out who is to blame in a Dota2 game giving the game ID.
---

# who-is-to-blame

DOTA2比赛抓畜分析工具 - 基于科学方法论找出输掉比赛的背锅侠

## 简介

这是一个专业的DOTA2比赛分析工具,能够基于多维度数据和科学方法论,客观地识别出比赛中表现最差的玩家(俗称"畜生")。

**核心原则**:
- 只分析输掉比赛的一方
- 基于客观数据,而非主观判断
- 考虑位置差异、克制关系、经济背景等调节因素
- 使用SSS到F级失误分类系统
- 智能控制畜生数量(通常1-2个)

## 触发条件

### 斜杠命令
- `/抓畜 <比赛ID>`
- `/找畜生 <比赛ID>`
- `/背锅侠 <比赛ID>`

### 自然语言(支持变体)
- "找出比赛{ID}中的畜生"
- "抓畜 {ID}"
- "分析比赛{ID}"
- "这局比赛谁背锅?ID是{ID}"
- "这局谁最坑?{ID}"
- "比赛{ID}谁最菜"

## 工作流程

### 1. 比赛ID验证与胜负判定
- 提取用户输入中的比赛ID(8-10位数字)
- 打开OpenDota比赛页面
- 判断哪方输了比赛(只分析输的一方)

### 2. 数据获取
**OpenDota数据**(按标签页依次获取):
- **概览页**: KDA、GPM/XPM、英雄伤害、治疗、正反补、推塔伤害、选人顺序
- **表现页**: 控制时间、拉野次数、死亡时长、买活次数
- **分路页**: 对线胜率、前10分钟正补/反补、分路位置
- **团战页**: 团战伤害、团战治疗、参团率
- **曲线图页**: 经济曲线(用于判断经济背景)

**ProTracker克制数据**:
- 为输的一方5个英雄分别获取克制关系
- 提取"Countered By"列表(被谁克制)
- 提取"Good Against"列表(克制谁)
- 记录具体胜率数据(用于43%阈值判定)

### 3. 位置识别
基于分路数据确定1-5号位:
- **1号位(大哥)**: 优势路打钱位
- **2号位(中单)**: 中路
- **3号位(三号位)**: 劣势路主力
- **4号位(游走)**: 辅助,较高经济
- **5号位(硬辅)**: 辅助,最低经济

### 4. 失误识别与评分
按照SSS到F级失误分类系统,识别以下失误:

**SSS级(致命失误,基础畜度+100)**:
- 核心位对线大崩(前10分正补<对手50%)
- 核心位经济转化极差(GPM/XPM远低于团队)
- 辅助0参团0视野

**SS级(严重失误,基础畜度+80)**:
- 对线严重劣势(胜率<30%)
- 团战贡献极低(参团率<40%)
- 推进能力缺失(核心位推塔伤害<1000)

**S级(重大失误,基础畜度+60)**:
- 对线失误(胜率<45%)
- 资源浪费(高经济低输出)
- 团战失误(多次不参团/提前阵亡)

**A级(明显失误,基础畜度+40)**:
- 发育效率低
- 团战站位失误
- 技能/物品使用失误

**B-F级(较轻失误,基础畜度+10-30)**:
- 其他可识别的小失误

### 5. 系数调整
**克制系数**:
- 被多个英雄克制(胜率<43%): 系数×0.7-0.9
- 克制多个对手: 系数×1.1-1.3

**位置系数**:
- 1/2号位(核心): 系数×1.2(责任更大)
- 3号位: 系数×1.1
- 4/5号位(辅助): 系数×0.8-0.9

**经济背景系数**:
- 全队经济劣势期间的失误: 系数×0.7-0.9
- 全队经济优势期间的失误: 系数×1.1-1.3

**最终畜度** = 基础畜度 × 克制系数 × 位置系数 × 经济背景系数

### 6. 畜生判定
**数量控制**:
- 默认抓1个最畜的
- 如果第2名畜度>80分,也算畜生
- 最多抓2个

**位置平衡**:
- 如果多个畜生都是辅助,考虑是否核心位也有责任
- 避免"辅助背锅"现象

**历史记录**:
- 记录每场比赛的畜生位置分布
- 长期统计位置背锅率

### 7. 生成报告
生成包含以下内容的Markdown报告:
- 比赛基础信息
- 克制关系说明
- 各玩家畜度排名
- 畜生罪状列表(详细数据支撑)
- 数据对比表格
- 畜度计算过程
- 幽默惩罚建议
- 一句幽默评价/提问

### 8. 保存结果
- 保存到 `/d/projects/who-is-to-blame/results/{match_id}.md`
- 更新历史数据 `/d/projects/who-is-to-blame/data/history.json`

## 详细说明

完整的实现细节请参考以下模块文档:

- **数据获取**: [./references/data-mapping.md](./references/data-mapping.md) - 详细的数据字段映射表
- **分析逻辑**: [./references/analysis-logic.md](./references/analysis-logic.md) - 失误识别规则和畜度计算
- **错误处理**: [./references/error-handling.md](./references/error-handling.md) - 异常情况处理
- **输出格式**: [./references/output-template.md](./references/output-template.md) - 报告生成模板

## 快速开始

### 使用示例

```bash
/抓畜 8669004890
```

或者:

```
帮我分析一下比赛8669004890,看看谁最坑
```

### 预期输出

工具会:
1. 显示进度提示(获取数据、分析等)
2. 生成详细的分析报告
3. 指出畜生并列举罪状
4. 给出幽默的惩罚建议
5. 保存结果到文件

## 技术依赖

- **Chrome DevTools MCP**: 用于网页数据爬取
- **OpenDota**: 比赛数据来源
- **ProTracker**: 英雄克制数据来源
- **方法论文档**: `/d/projects/who-is-to-blame/docs/methodology.md`

## 注意事项

- 需要稳定的网络连接
- 首次分析可能需要触发OpenDota的"分析"功能,耗时1-2分钟
- ProTracker数据会缓存,避免重复请求
- 仅分析输掉比赛的一方
- 分析结果基于客观数据,但可能无法完全反映游戏中的所有因素

## 版本信息

- **版本**: 1.0.0
- **创建时间**: 2026-01-30
- **方法论版本**: 基于 `/d/projects/who-is-to-blame/docs/methodology.md`
