---
name: who-is-to-blame
description: Guide for finding out who is to blame in a DoTA2 game using trustable date analysis and algorithm. This skill should be used when users want to find out who is to blame in a Dota2 game giving the game ID.
---

# who-is-to-blame

DOTA2比赛抓畜分析方法论 - 基于科学方法论找出那个畜生

## 简介

一个专业的DOTA2比赛分析方法论,能够基于多维度数据和科学方法论,客观地识别出比赛中表现最差的玩家(俗称"畜生")。

**核心原则**:
- 只分析输掉比赛的一方
- 基于客观数据,而非主观判断
- 考虑位置差异、克制关系、经济背景等调节因素
- 使用SSS到F级失误分类系统
- 智能控制畜生数量(通常1-2个)

## 触发条件

### 斜杠命令
- `/抓畜 <比赛ID>`
- `/找畜生 <比赛ID>`
- `/背锅侠 <比赛ID>`

### 自然语言(支持变体)
- "找出比赛{ID}中的畜生"
- "抓畜 {ID}"
- "分析比赛{ID}"
- "这局比赛谁背锅?ID是{ID}"
- "这局谁最坑?{ID}"
- "比赛{ID}谁最菜"

## 工作流程

### 1. 比赛ID验证与胜负判定
- 提取用户输入中的比赛ID(8-10位数字)
- 打开OpenDota比赛页面
- 判断哪方输了比赛(只分析输的一方)

### 2. 数据获取
进入比赛页面后首先点击分析按钮，分析需要一段时间，等待分析结束后：
**OpenDota数据**(按标签页依次获取):
- **概览页**: KDA、GPM/XPM、英雄伤害、治疗、正反补、推塔伤害
- **表现页**: 控制时间、拉野次数、死亡时长、买活次数
- **分路页**: 对线优劣情况、前10分钟正补/反补、分路位置
- **团战页**: 团战伤害、团战治疗、参团率
- **曲线图页**: 胜率曲线、经济曲线(用于判断经济背景)
- **视野页**: 守卫购买/使用数量、守卫存活时长、粉雾使用(仅用于评估4/5号位)

**STRATZ选人数据**(重要):
- 访问 `https://stratz.com/matches/{match_id}`
- 定位页面中部"阵容"区域
- 提取三个选择阶段的英雄分组:
  - 阶段1(1-4手): 双方同时盲选
  - 阶段2(5-8手): 能看到阶段1，双方同时选
  - 阶段3(9-10手): 能看到阶段1-2，双方同时选
- 将英雄与玩家/位置数据进行匹配

**Dota2.Tools克制数据**:
- 访问 `https://dota2.tools/tools/hero-counter-viewer`
- 为输的一方5个英雄分别点击获取克制关系
- 提取"HEROES COUNTERING HIM"列表(被谁克制)及克制指数
- 提取"HEROES HE COUNTERS"列表(克制谁)及克制指数
- 克制指数<-2%视为被克制，>+2%视为克制对手

### 3. 位置识别
基于分路数据确定1-5号位:
- **1号位(大哥)**: 优势路打钱位
- **2号位(中单)**: 中路
- **3号位(三号位)**: 劣势路主力
- **4号位(游走)**: 辅助,较高经济
- **5号位(硬辅)**: 辅助,最低经济

### 4. 选人责任评估（仅核心位）
针对1/2/3号位核心，评估选人阶段的责任:

**犯畜行为**(需要克制关系+表现数据支撑):
- **活该**(SS级): 阶段1早选，被阶段2/3后手克制且表现差
- **有点难受**(S级): 阶段2选，被阶段3最后手克制且表现差
- **头铁**(SS级): 后选却被已选的敌方英雄克制且表现差
- **给你机会不中用啊**(SS级): 后选克制英雄却没打出优势
- **你懂DOTA吗?**(A级): 后选却没针对对方核心且表现差

**免责行为**:
- **运气不好**: 阶段3双方同时盲选被克制(权重×0.1)
- **辅助先拿**: 4/5号位不评估选人责任

**位置权重**: 1号位×1.0, 2号位×0.9, 3号位×0.7

### 5. 常规失误识别与评分
按照SSS到F级失误分类系统,识别以下失误:

**SSS级(致命失误,基础畜度+100)**:
- 核心位对线大崩(前10分正补<对手50%)
- 核心位经济转化极差(GPM/XPM远低于团队)
- 辅助0参团0视野

**SS级(严重失误,基础畜度+80)**:
- 对线严重劣势(胜率<30%)
- 团战贡献极低(参团率<40%)
- 推进能力缺失(核心位推塔伤害<1000)

**S级(重大失误,基础畜度+60)**:
- 对线失误(胜率<45%)
- 资源浪费(高经济低输出)
- 团战失误(多次不参团/提前阵亡)

**A级(明显失误,基础畜度+40)**:
- 发育效率低
- 团战站位失误
- 技能/物品使用失误

**B-F级(较轻失误,基础畜度+10-30)**:
- 其他可识别的小失误

### 6. 系数调整
**克制系数**(基于克制指数):
- 被多个英雄克制(克制指数<-2%): 系数×0.7-0.9
- 克制多个对手(克制指数>+2%): 系数×1.1-1.3

**位置系数**:
- 1/2号位(核心): 系数×1.2(责任更大)
- 3号位: 系数×1.1
- 4/5号位(辅助): 系数×0.8-0.9

**经济背景系数**:
- 全队经济劣势期间的失误: 系数×0.7-0.9
- 全队经济优势期间的失误: 系数×1.1-1.3

**基础畜度** = 常规失误畜度 + 视野畜度(辅助) + 选人责任畜度(核心)

**最终畜度** = 基础畜度 × 克制系数 × 位置系数 × 经济背景系数

### 7. 畜生判定
**数量控制**:
- 默认抓1个最畜的
- 如果第2名畜度>80分,也算畜生
- 最多抓2个

**位置平衡**:
- 如果多个畜生都是辅助,考虑是否核心位也有责任
- 避免"辅助背锅"现象

**历史记录**:
- 记录每场比赛的畜生位置分布
- 长期统计位置背锅率

### 8. 生成报告
生成包含以下内容的Markdown报告:
- 比赛基础信息
- 选人阶段信息（各玩家选择阶段）
- 克制关系说明
- 各玩家畜度排名
- 畜生罪状列表（包含选人责任判定，如适用）
- 数据对比表格
- 畜度计算过程
- 幽默惩罚建议
- 一句幽默评价/提问

### 9. 保存结果
- 保存到 `/d/projects/who-is-to-blame/results/{match_id}.md`
- 更新历史数据 `/d/projects/who-is-to-blame/data/history.json`

## 详细说明

完整的实现细节请参考以下模块文档:

- **数据获取**: [./references/data-mapping.md](./references/data-mapping.md) - 详细的数据字段映射表
- **分析逻辑**: [./references/analysis-logic.md](./references/analysis-logic.md) - 失误识别规则和畜度计算
- **错误处理**: [./references/error-handling.md](./references/error-handling.md) - 异常情况处理
- **输出格式**: [./references/output-template.md](./references/output-template.md) - 报告生成模板

## 快速开始

### 使用示例

```bash
/抓畜 8669004890
```

或者:

```
帮我分析一下比赛8669004890,看看谁最坑
```

### 预期输出

工具会:
1. 显示进度提示(获取数据、分析等)
2. 生成详细的分析报告
3. 指出畜生并列举罪状
4. 给出幽默的惩罚建议
5. 保存结果到文件

## 技术依赖

- **Chrome DevTools MCP**: 用于网页数据爬取
- **OpenDota**: 比赛数据来源（基础数据、表现、分路、团战、视野）
- **STRATZ**: 选人阶段数据来源 (`https://stratz.com/matches/{match_id}`)
- **Dota2.Tools**: 英雄克制数据来源 (`https://dota2.tools/tools/hero-counter-viewer`)
- **方法论文档**: `/d/projects/who-is-to-blame/docs/methodology.md`

## 注意事项

- 需要稳定的网络连接
- 首次分析可能需要触发OpenDota的"分析"功能,耗时1-2分钟
- Dota2.Tools克制数据通过点击英雄按钮获取
- 仅分析输掉比赛的一方
- 分析结果基于客观数据,但可能无法完全反映游戏中的所有因素

## 版本信息

- **版本**: 1.0.0
- **创建时间**: 2026-01-30
- **方法论版本**: 基于 `/d/projects/who-is-to-blame/docs/methodology.md`
